var t,e,i,a,n=Object.defineProperty,o=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,d=(t,e)=>{for(var i in e||(e={}))c.call(e,i)&&r(t,i,e[i]);if(l)for(var i of l(e))s.call(e,i)&&r(t,i,e[i]);return t},m=(t,e)=>o(t,p(e));import{i as u,C as x,e as v,u as f,a as h,b as g,c as b,d as w,f as k,g as y,h as j,F as E,j as A,I as z,B as _,m as I,k as F,l as S,n as N,o as R,S as q,L as T,p as L,q as C,r as W,w as O,s as $,T as P,t as M,v as U,x as D,y as B,M as J,z as H,A as V,D as K,H as Z,R as G,E as Q}from"./vendor.c8d778f2.js";var X="_app_18eob_1",Y="_logo_18eob_9",tt="_sider_18eob_21",et="_main_18eob_23",it="_header_18eob_41";const at=new u;var nt="_home_nvat1_1";function ot(t){return{[v.En]:"/en-US/",[v.ZhCN]:"/zh-CN/","/zh-CN/":v.ZhCN,"/en-US/":v.En}[t]}function pt(){const t=f(),e=h();return x.exports.useMemo((()=>{const i=/(\/.+?\/)/.exec(t.pathname);return i?ot(i[0]):(e.push(ot(v.En)),v.En)}),[e,t.pathname])}const lt=new g,ct=()=>{const t=pt();return x.exports.createElement(b,null,x.exports.createElement("div",{className:nt,dangerouslySetInnerHTML:{__html:lt.render(t===v.En?"# joplin-batch-web\r\n\r\n## Overview\r\n\r\nHandles some batch operations that are not supported by Joplin itself, and presents them as a visual interface.\r\n\r\n- [x] Check for unreferenced attachment resources\r\n      Some unused attachment resources are not cleaned up in time\r\n- [x] Check for referenced attachment resources that do not exist\r\n      Some attachments that are being used may not exist for various reasons\r\n- [x] Convert external links to internal note references\r\n      Would like to be able to convert previous blog links to internal `:/id` links to ensure they never expire\r\n- [x] Check for notes that don't have a parent directory (usually an error)\r\n\r\n### Getting Started\r\n\r\n1. open joplin desktop version\r\n2. Enable the web clipper\r\n3. Fill out the configuration in the [Settings](https://joplin-utils.rxliuli.com/joplin-batch-web/#/settings) page\r\n4. Navigate to the relevant function page\r\n\r\n![guide](https://github.com/rxliuli/joplin-utils/raw/master/apps/joplin-batch-web/docs/images/guide.gif)\r\n\r\n> If you want to participate in the development or run locally, you can refer to [Participate in the project](./docs/dev.md)\r\n\r\n## FAQ\r\n\r\n### Why not use the cli form\r\n\r\nThe cli form is not very suitable for this scenario, e.g. when you need to preview unusual attachments or notes, which is more troublesome at the command line.\r\n\r\n### Will it record my note data\r\n\r\nThe website works locally, there is no back-end server, if you are still worried, you can check the source code [joplin-batch-web](https://github.com/rxliuli/joplin-utils/tree/master/apps/joplin-batch-web)\r\n":"# joplin-batch-web\r\n\r\n处理一些 Joplin 本身不支持的批量操作，以可视化界面的形式展现出来。\r\n\r\n- [x] 检查是否存在没有引用的附件资源\r\n      一些没有使用的附件资源没有被及时清理\r\n- [x] 检查引用的附件资源不存在的情况\r\n      一些正在使用的附件可能由于各种原因不存在了\r\n- [x] 转换外部链接为内部笔记引用\r\n      希望能够将之前的 blog 链接转换为内部的 `:/id` 链接以保证永不过期\r\n- [x] 检查是否存在没有父级目录的笔记（一般是错误）\r\n\r\n### 开始\r\n\r\n1. 打开 joplin 桌面版\r\n2. 启用网页剪辑器\r\n3. 在 [设置](https://joplin-utils.rxliuli.com/joplin-batch-web/#/settings) 页面填写配置\r\n4. 导航到相关功能页面\r\n\r\n![guide](https://github.com/rxliuli/joplin-utils/raw/master/apps/joplin-batch-web/docs/images/guide.gif)\r\n\r\n> 如果您希望参与开发或在本地运行，可以参考 [参与项目](./docs/zh/dev.md)\r\n\r\n## FAQ\r\n\r\n### 为什么不使用 cli 的形式\r\n\r\ncli 的形式不太适合这种场景，例如需要预览异常的附件或笔记，在命令行下比较麻烦。\r\n\r\n### 它会记录我的笔记数据么\r\n\r\n网站是全本地工作的，没有后端服务器，如果你仍然担忧，可以检查源代码 [joplin-batch-web](https://github.com/rxliuli/joplin-utils/tree/master/apps/joplin-batch-web)\r\n")}}))};let st;const rt={},dt=function(t,e){if(!e||0===e.length)return t();if(void 0===st){const t=document.createElement("link").relList;st=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if((t=`./${t}`)in rt)return;rt[t]=!0;const e=t.endsWith(".css"),i=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const a=document.createElement("link");return a.rel=e?"stylesheet":st,e||(a.as="script",a.crossOrigin=""),a.href=t,document.head.appendChild(a),e?new Promise(((t,e)=>{a.addEventListener("load",t),a.addEventListener("error",e)})):void 0}))).then((()=>t()))};var mt=Object.defineProperty,ut=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable,gt=(t,e,i)=>e in t?mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,bt=(t,e)=>{for(var i in e||(e={}))ft.call(e,i)&&gt(t,i,e[i]);if(vt)for(var i of vt(e))ht.call(e,i)&&gt(t,i,e[i]);return t},wt=(t,e)=>ut(t,xt(e)),kt=(t,e)=>{var i={};for(var a in t)ft.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&vt)for(var a of vt(t))e.indexOf(a)<0&&ht.call(t,a)&&(i[a]=t[a]);return i},yt=(t,e,i)=>new Promise(((a,n)=>{var o=t=>{try{l(i.next(t))}catch(e){n(e)}},p=t=>{try{l(i.throw(t))}catch(e){n(e)}},l=t=>t.done?a(t.value):Promise.resolve(t.value).then(o,p);l((i=i.apply(t,e)).next())})),jt=class{static pageToAllList(t,e){return yt(this,null,(function*(){let i=[];for(let a=1,n=!0;n;a++){let o=yield t(wt(bt({},e),{page:a,limit:this.MaxLimit}));n=o.has_more,i.push(...o.items)}return i}))}};jt.MaxLimit=100;var Et,At,zt=class{constructor(t){this.ajax=t}list(t){return yt(this,null,(function*(){return this.ajax.get("/notes",t)}))}get(t,e){return yt(this,null,(function*(){return this.ajax.get(`/notes/${t}`,{fields:e})}))}create(t){return yt(this,null,(function*(){return this.ajax.post("/notes",t)}))}update(t){return yt(this,null,(function*(){let e=t,{id:i}=e,a=kt(e,["id"]);return yield this.ajax.put(`/notes/${i}`,a)}))}remove(t){return yt(this,null,(function*(){return this.ajax.delete(`/notes/${t}`)}))}tagsById(t){return jt.pageToAllList((t=>{var e=t,{id:i}=e,a=kt(e,["id"]);return this.ajax.get(`/notes/${i}/tags`,bt({},a))}),{id:t})}resourcesById(t){return yt(this,arguments,(function*(t,e=["id","title"]){return jt.pageToAllList((t=>{var i=t,{id:a}=i,n=kt(i,["id"]);return this.ajax.get(`/notes/${a}/resources`,bt({fields:e},n))}),{id:t})}))}};(At=Et||(Et={}))[At.Note=1]="Note",At[At.Folder=2]="Folder",At[At.Setting=3]="Setting",At[At.Resource=4]="Resource",At[At.Tag=5]="Tag",At[At.NoteTag=6]="NoteTag",At[At.Search=7]="Search",At[At.Alarm=8]="Alarm",At[At.MasterKey=9]="MasterKey",At[At.ItemChange=10]="ItemChange",At[At.NoteResource=11]="NoteResource",At[At.ResourceLocalState=12]="ResourceLocalState",At[At.Revision=13]="Revision",At[At.Migration=14]="Migration",At[At.SmartFilter=15]="SmartFilter";var _t=class{constructor(t){this.ajax=t}search(t){return yt(this,null,(function*(){_t.TypeEnumMap[8]="";let e=t,{type:i}=e,a=kt(e,["type"]);return this.ajax.get("/search",wt(bt({},a),{type:_t.TypeEnumMap[i]}))}))}},It=_t;It.TypeEnumMap={[Et.Note]:"note",[Et.Folder]:"folder",[Et.Setting]:"setting",[Et.Resource]:"resource",[Et.Tag]:"tag",[Et.NoteTag]:"note_tag",[Et.Search]:"search",[Et.Alarm]:"alarm",[Et.MasterKey]:"master_key",[Et.ItemChange]:"item_change",[Et.NoteResource]:"note_resource",[Et.ResourceLocalState]:"resource_local_state",[Et.Revision]:"revision",[Et.Migration]:"migration",[Et.SmartFilter]:"smart_filter"};var Ft,St,Nt=class{constructor(t){this.ajax=t}pingPort(t){return yt(this,null,(function*(){return"JoplinClipperServer"===(yield this.ajax.request({url:`http://localhost:${t}/ping`,method:"get",responseType:"text"}))}))}static range(t,e){let i=[];for(let a=t;a<e;a++)i.push(a);return i}scan(){return yt(this,null,(function*(){let t=yield Promise.all(Nt.range(41184,41195).filter((t=>yt(this,null,(function*(){try{return yield this.pingPort(t)}catch(St){return!1}})))));if(0===t.length)throw new Error("Joplin's port is not scanned");return t[0]}))}ping(){return yt(this,null,(function*(){return this.pingPort(this.ajax.config.port)}))}},Rt=class{constructor(t){this.ajax=t}list(t){return yt(this,null,(function*(){return this.ajax.get("/folders",t)}))}listAll(){return yt(this,null,(function*(){return this.ajax.get("/folders",{as_tree:1})}))}get(t){return yt(this,null,(function*(){return this.ajax.get(`/folders/${t}`)}))}create(t){return yt(this,null,(function*(){return this.ajax.post("/folders",t)}))}update(t){return yt(this,null,(function*(){let e=t,{id:i}=e,a=kt(e,["id"]);return this.ajax.put(`/folders/${i}`,a)}))}remove(t){return yt(this,null,(function*(){return this.ajax.delete(`/folders/${t}`)}))}notesByFolderId(t,e){return yt(this,null,(function*(){return yield jt.pageToAllList((t=>{var e=t,{id:i}=e,a=kt(e,["id"]);return this.ajax.get(`/folders/${i}/notes`,a)}),{id:t,fields:e})}))}};(St=Ft||(Ft={})).OpenAndWatch="openAndWatch",St.StopWatching="stopWatching",St.NoteIsWatched="noteIsWatched";var qt,Tt;(Tt=qt||(qt={})).OpenAndWatch="openAndWatch",Tt.Watch="watch",Tt.StopWatching="stopWatching",Tt.NoteIsWatched="isWatched";var Lt="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},Ct={method:"get",data:void 0,headers:{},responseType:"json"},Wt=class{constructor(){this.config=new class{constructor(){this.port=41184,this.token=""}},this.ajax=new class{constructor(t){this.config=t}request(t){return yt(this,null,(function*(){return(yield k.request(bt(bt({},Ct),t))).data}))}baseUrl(t,e){let i=y.stringify(bt(bt({},e),this.config),{arrayFormat:"comma"});return`http://localhost:${this.config.port}${t}?${i}`}get(t,e,i){return this.request(wt(bt({url:this.baseUrl(t,e)},i),{method:"get"}))}post(t,e,i){return this.request(wt(bt({url:this.baseUrl(t),data:e},i),{method:"post"}))}put(t,e,i){return this.request(wt(bt({url:this.baseUrl(t),data:e},i),{method:"put"}))}delete(t,e,i){return this.request(wt(bt({url:this.baseUrl(t),data:e},i),{method:"delete"}))}postFormData(t,e){return yt(this,null,(function*(){"undefined"==typeof fetch&&Reflect.set(Lt,"fetch",(yield dt((()=>import("./index.8526b177.js")),["assets/index.8526b177.js","assets/vendor.c8d778f2.js","assets/vendor.e21f4386.css"])).default),"undefined"==typeof FormData&&Reflect.set(Lt,"FormData",(yield dt((()=>import("./browser.53cd8f92.js").then((function(t){return t.b}))),[])).default);let i=new FormData;return Object.entries(e).forEach((([t,e])=>i.append(t,e))),yield(yield fetch(this.baseUrl(t),{method:"post",body:i})).json()}))}}(this.config),this.folderApi=new Rt(this.ajax),this.folderExtApi=new class{constructor(t){this.ajax=t,this.folderApi=new Rt(this.ajax)}rename(t,e){return this.folderApi.update({id:t,title:e})}path(t){return yt(this,null,(function*(){if(!t)return[];let e=yield this.folderApi.get(t);return e.parent_id?(yield this.path(e.parent_id)).concat([e]):[e]}))}move(t,e){return yt(this,null,(function*(){if(t!==e){if((yield this.path(e)).some((e=>t===e.id)))throw new Error("Cannot move directory to subdirectory");yield this.folderApi.update({id:t,parent_id:e})}}))}}(this.ajax),this.joplinApi=new Nt(this.ajax),this.noteActionApi=new class{constructor(t){this.ajax=t}openAndWatch(t){return this.baseAction(Ft.OpenAndWatch,t)}stopWatching(t){return this.baseAction(Ft.StopWatching,t)}noteIsWatched(t){return yt(this,null,(function*(){return this.isWatch(t)}))}isWatch(t){return yt(this,null,(function*(){return this.baseAction(Ft.NoteIsWatched,t)}))}baseAction(t,e){return yt(this,null,(function*(){return this.ajax.post("/services/externalEditWatcher",{action:t,noteId:e})}))}}(this.ajax),this.noteApi=new zt(this.ajax),this.noteExtApi=new class{constructor(t){this.ajax=t,this.noteApi=new zt(this.ajax)}rename(t,e){return this.noteApi.update({id:t,title:e})}move(t,e){return this.noteApi.update({id:t,parent_id:e})}toggleTodo(t,e){return yt(this,null,(function*(){let i=yield this.noteApi.get(t,["id","is_todo","todo_completed"]);!i.is_todo||(yield this.noteApi.update({id:i.id,todo_completed:e||(0===i.todo_completed?1:0)}))}))}}(this.ajax),this.resourceActionApi=new class{constructor(t){this.ajax=t}openAndWatch(t){return this.baseAction(qt.OpenAndWatch,t)}watch(t){return this.baseAction(qt.Watch,t)}stopWatching(t){return this.baseAction(qt.StopWatching,t)}noteIsWatched(t){return yt(this,null,(function*(){return this.baseAction(qt.NoteIsWatched,t)}))}baseAction(t,e){return yt(this,null,(function*(){return this.ajax.post("/services/resourceEditWatcher",{action:t,resourceId:e})}))}}(this.ajax),this.resourceApi=new class{constructor(t){this.ajax=t}list(t){return yt(this,null,(function*(){return yield this.ajax.get("/resources",t)}))}get(t,e){return yt(this,null,(function*(){return yield this.ajax.get(`/resources/${t}`,{fields:e})}))}create(t){return yt(this,null,(function*(){return yield this.ajax.postFormData("/resources",{props:JSON.stringify({title:t.title}),data:t.data})}))}update(t){return yt(this,null,(function*(){let e=t,{id:i}=e,a=kt(e,["id"]);return yield this.ajax.put(`/resources/${i}`,a)}))}remove(t){return yt(this,null,(function*(){return yield this.ajax.delete(`/resources/${t}`)}))}fileByResourceId(t){return yt(this,null,(function*(){let e=yield this.ajax.get(`/resources/${t}/file`,{},{responseType:"arraybuffer"});return Buffer.from(e,"binary")}))}}(this.ajax),this.searchApi=new It(this.ajax),this.tagApi=new class{constructor(t){this.ajax=t}list(t){return yt(this,null,(function*(){return yield this.ajax.get("/tags",t)}))}get(t){return yt(this,null,(function*(){return yield this.ajax.get(`/tags/${t}`)}))}create(t){return yt(this,null,(function*(){return yield this.ajax.post("/tags",t)}))}update(t){return yt(this,null,(function*(){let e=t,{id:i}=e,a=kt(e,["id"]);return yield this.ajax.post(`/tags/${i}`,a)}))}remove(t){return yt(this,null,(function*(){return yield this.ajax.delete(`/tags/${t}`)}))}notesByTagId(t){return yt(this,null,(function*(){var e=t,{id:i}=e,a=kt(e,["id"]);return yield this.ajax.get(`/tags/${i}/notes`,a)}))}addTagByNoteId(t,e){return yt(this,null,(function*(){return yield this.ajax.post(`/tags/${t}/notes/`,{id:e})}))}removeTagByNoteId(t,e){return yt(this,null,(function*(){return yield this.ajax.delete(`/tags/${t}/notes/${e}`)}))}}(this.ajax)}set token(t){this.config.token=t}set port(t){this.config.port=t}},Ot=new Wt;Object.entries(Ot).forEach((([t,e])=>{Reflect.set(Ot,t,w.bindMethodThis(e))}));const $t=new Wt,Pt=j(localStorage);$t.token=null!=(e=null==(t=Pt.settings)?void 0:t.token)?e:"",$t.port=null!=(a=null==(i=Pt.settings)?void 0:i.port)?a:41184;const Mt=()=>{var t;const[e]=E.useForm();const[i,a]=A("settings");return x.exports.createElement(b,null,x.exports.createElement("h2",null,at.t("settings.title")),x.exports.createElement(E,{form:e,onFinish:async function(){if(!(await e.validateFields()))return;const t=e.getFieldsValue();console.log("onFinish: ",t);try{$t.token=t.token,$t.port=t.port,await $t.noteApi.list({limit:1}),a(t),I.success(at.t("settings.msg.success"))}catch(i){console.error(i),I.error(at.t("settings.msg.error"))}},initialValues:{token:null==i?void 0:i.token,port:null!=(t=null==i?void 0:i.port)?t:41184}},x.exports.createElement(E.Item,{name:"token",label:at.t("settings.form.token"),rules:[{required:!0}]},x.exports.createElement(z,{type:"password"})),x.exports.createElement(E.Item,{name:"port",label:at.t("settings.form.port"),rules:[{required:!0}]},x.exports.createElement(z,{type:"number"})),x.exports.createElement(E.Item,null,x.exports.createElement(_,{type:"primary",htmlType:"submit"},at.t("settings.action.submit")))))};class Ut{static warpOnEvent(t){const e={},i=F(0).then((()=>new Promise(((i,a)=>{try{i(t(e))}catch(n){a(n)}}))));return Reflect.set(i,"on",((t,a)=>(e[t]=a,i))),i}}const Dt=new class{constructor(t){this.config=t}getUnusedResource(){return Ut.warpOnEvent((async t=>{const e=await jt.pageToAllList(this.config.resourceApi.list.bind(this.config.resourceApi),{fields:["id","title","mime"]});let i=0;return await S.filter(e,N((async a=>{const n=!(await this.checkUsed(a.id));return t.process({title:a.title,all:e.length,rate:i++}),n}),10))}))}async checkUsed(t){return(await this.config.searchApi.search({query:`"](:/${t})"`})).items.length>0}}($t);const Bt=function(t){const e=t();return t=>`http://localhost:${null==e?void 0:e.port}/resources/${t}/file?token=${null==e?void 0:e.token}`}((()=>j(localStorage).settings)),Jt=()=>{const[t,e]=x.exports.useState([]),[i,a]=x.exports.useState(""),[n,o]=R((async()=>{try{const t=await Dt.getUnusedResource().on("process",(t=>{a(at.t("unusedResource.msg.process",t))}));console.log("list: ",t),e(t)}catch(t){I.error(at.t("unusedResource.msg.error"))}}));const[p,l]=R((async()=>{await S.forEach(t,(async t=>{await $t.resourceApi.remove(t.id)})),e([])}),[t]);return x.exports.createElement(b,{title:at.t("unusedResource.title"),extra:x.exports.createElement(q,null,x.exports.createElement(_,{onClick:o},at.t("common.action.check")),x.exports.createElement(_,{disabled:0===t.length,danger:!0,loading:p.loading,onClick:l},at.t("unusedResource.action.removeAll")))},x.exports.createElement(T,{dataSource:t,locale:{emptyText:at.t("unusedResource.listEmptyText")},renderItem:t=>x.exports.createElement(T.Item,{key:t.id,actions:[x.exports.createElement(_,{onClick:()=>async function(t){e(C((e=>e.filter((e=>e.id!==t))))),await $t.resourceApi.remove(t)}(t.id)},at.t("common.action.remove")),x.exports.createElement(_,{onClick:()=>async function(t){await W(Bt(t))}(t.id)},at.t("common.action.download"))],extra:t.mime.startsWith("image/")&&x.exports.createElement(L,{src:Bt(t.id),width:300})},x.exports.createElement(T.Item.Meta,{title:t.title})),loading:{spinning:n.loading,tip:i}}))};function Ht(){return new Worker("./assets/parseInternalLink.81e817aa.js",{type:"module"})}var Vt="_subList_1op68_1";const Kt=new class{constructor(t){this.config=t,this.parseInternalLinkWorker=O(new Ht)}check(){return Ut.warpOnEvent((async t=>{t.load("开始加载所有附件资源");const e=new Set((await this.getAllResourceIdList()).map((t=>t.id)));t.load("开始加载所有笔记");const i=await jt.pageToAllList(this.config.noteApi.list.bind(this.config.noteApi),{fields:["id","title","body","user_updated_time"]}),a=i.reduce(((t,e)=>t.add(e.id)),new Set);t.load("开始解析所有笔记");let n=0;return(await S.map(i,(async e=>{const a=m(d({},e),{resources:await this.parseInternalLinkWorker(e.body)});return n++,t.parse({rate:n,all:i.length,title:e.title||"未知文件名"}),a}))).filter((t=>(t.resources=t.resources.filter((t=>!e.has(t.id)&&!a.has(t.id))),0!==t.resources.length))).map((t=>{var e=t,{body:i}=e;return((t,e)=>{var i={};for(var a in t)c.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&l)for(var a of l(t))e.indexOf(a)<0&&s.call(t,a)&&(i[a]=t[a]);return i})(e,["body"])}))}))}async getAllResourceIdList(){return await jt.pageToAllList(this.config.resourceApi.list.bind(this.config.resourceApi),{fields:["id","title","mime"]})}}($t),Zt=()=>{const[t,e]=x.exports.useState([]),[i,a]=x.exports.useState(""),[n,o]=R((async()=>{const t=await Kt.check().on("load",(t=>a(t))).on("parse",(t=>{a(`[${t.rate}/${t.all}] ${t.title}`)}));console.log("list: ",t),e(t)}));return x.exports.createElement(b,{title:at.t("notFoundResource.title"),extra:x.exports.createElement(_,{onClick:o},at.t("common.action.check"))},x.exports.createElement(T,{dataSource:t,locale:{emptyText:at.t("notFoundResource.listEmptyText")},renderItem:t=>x.exports.createElement(T.Item,{key:t.id,actions:[x.exports.createElement(_,{onClick:()=>async function(t){await $t.noteActionApi.openAndWatch(t)}(t.id)},at.t("common.action.open"))]},x.exports.createElement(T.Item.Meta,{title:t.title,description:x.exports.createElement(T,{className:Vt,dataSource:t.resources,renderItem:t=>x.exports.createElement(T.Item,{key:t.id},x.exports.createElement(T.Item.Meta,{title:t.title||at.t("notFoundResource.unknownFileName",t)}))})})),loading:{spinning:n.loading,tip:i}}))};function Gt(){return new Worker("./assets/MarkdownLinkUtil.5ee19235.js",{type:"module"})}class Qt{constructor(){this.markdownLinkUtilWorker=O(new Gt)}async search(t){const e=await jt.pageToAllList($t.searchApi.search.bind($t.searchApi),{query:`body:"${t}"`,fields:["id","title","body","user_updated_time"],order_by:"user_updated_time",order_dir:"DESC"});return await S.map(e,(async e=>{const i=await this.markdownLinkUtilWorker.parseLink(e.body);return Reflect.deleteProperty(e,"body"),m(d({},e),{urls:await Qt.mapContentLinks(i,t)})}))}static mapContentLinks(t,e){return S.map(t.filter((t=>t.url.startsWith(e))),(async t=>{if(!t.title)return t;const e=(await $t.searchApi.search({query:`title:"${t.title}"`,limit:3,fields:["id","title"]})).items;return m(d({},t),{matchNotes:e})}))}async convert(t,e){const i=await $t.noteApi.get(t,["id","body"]),a=await this.markdownLinkUtilWorker.convertLink(i.body,e);await $t.noteApi.update({id:i.id,body:a,user_updated_time:Date.now()})}}var Xt="_sub1_sym9i_9",Yt="_sub2_sym9i_15";class te{static addMeta(t,e){return"---\n"+$.stringify(e)+"---\n\n"+t}static trimTitle(t){return(t.startsWith("#")?t.substr(1).trimLeft():t).replace(new RegExp("[\r\n]"),"")}}const ee=new Qt,ie=t=>{const[e,i]=R(t.onConvertNote);return x.exports.createElement(T,{dataSource:t.url.matchNotes,className:Yt,loading:e.loading,renderItem:t=>x.exports.createElement(T.Item,{key:t.id},x.exports.createElement(q,null,x.exports.createElement(P.Text,null,t.title),x.exports.createElement(_,{onClick:()=>i(t)},at.t("convertExternalLink.action.convert"))))})},ae=t=>0!==t.urls.length,ne=()=>{const[t,e]=x.exports.useState([]),[i,a]=R((async function(t){if(""===t)return void e([]);const i=await ee.search(t);console.log("onSearch: ",i),e(i.filter(ae))}));return x.exports.createElement(b,{title:at.t("convertExternalLink.title")},x.exports.createElement(z.Search,{onSearch:a,allowClear:!0,loading:i.loading}),x.exports.createElement(T,{dataSource:t,itemLayout:"vertical",loading:i.loading,renderItem:(t,i)=>x.exports.createElement(T.Item,{key:t.id,extra:[x.exports.createElement(_,{onClick:()=>async function(t){await $t.noteActionApi.openAndWatch(t)}(t.id)},at.t("common.action.open"))]},x.exports.createElement(P.Title,{level:4},t.title),x.exports.createElement(T,{dataSource:t.urls,className:Xt,itemLayout:"vertical",renderItem:(a,n)=>x.exports.createElement(T.Item,{key:n},x.exports.createElement(P.Title,{level:5},a.title),x.exports.createElement(P.Link,null,a.url),a.matchNotes&&0!==a.matchNotes.length&&x.exports.createElement(ie,{url:a,onConvertNote:o=>async function(t){console.log("onConvertNote: ",t),await ee.convert(t.noteId,{[t.url]:{title:te.trimTitle(t.linkNoteTitle),url:`:/${t.linkNoteId}`}}),e(C((e=>{console.log("remove: ",t.noteIndex,t.urlIndex),e[t.noteIndex].urls.splice(t.urlIndex,1),e.filter((t=>0!==t.urls.length))}))),e((t=>t.filter(ae))),I.success(at.t("convertExternalLink.msg.success"))}({noteId:t.id,url:a.url,linkNoteId:o.id,linkNoteTitle:o.title,noteIndex:i,urlIndex:n})}))}))}))};const oe=new class{async check(){const t=new Set(M(await $t.folderApi.listAll(),{id:"id",path:"path",children:"children"}).map((t=>t.id)));return(await jt.pageToAllList($t.noteApi.list.bind($t.noteApi),{fields:["id","title","parent_id"],order_by:"user_updated_time",order_dir:"DESC"})).filter((e=>!t.has(e.parent_id)))}},pe=()=>{const[t,e]=x.exports.useState([]),[i,a]=R((async()=>{const t=await oe.check();console.log("list: ",t),e(t)}));return x.exports.createElement(b,{title:at.t("checkParentNotebook.title"),extra:x.exports.createElement(_,{loading:i.loading,onClick:a},at.t("common.action.check"))},x.exports.createElement(T,{dataSource:t,locale:{emptyText:at.t("checkParentNotebook.listEmptyText")},renderItem:t=>x.exports.createElement(T.Item,{id:t.id,extra:x.exports.createElement(_,{onClick:()=>async function(t){await $t.noteApi.remove(t),e((e=>e.filter((e=>e.id!==t))))}(t.id)},at.t("common.action.remove"))},x.exports.createElement(P.Text,null,t.title))}))},le=[{t:"application/andrew-inset",e:["ez"]},{t:"application/applixware",e:["aw"]},{t:"application/atom+xml",e:["atom"]},{t:"application/atomcat+xml",e:["atomcat"]},{t:"application/atomsvc+xml",e:["atomsvc"]},{t:"application/ccxml+xml",e:["ccxml"]},{t:"application/cdmi-capability",e:["cdmia"]},{t:"application/cdmi-container",e:["cdmic"]},{t:"application/cdmi-domain",e:["cdmid"]},{t:"application/cdmi-object",e:["cdmio"]},{t:"application/cdmi-queue",e:["cdmiq"]},{t:"application/cu-seeme",e:["cu"]},{t:"application/davmount+xml",e:["davmount"]},{t:"application/docbook+xml",e:["dbk"]},{t:"application/dssc+der",e:["dssc"]},{t:"application/dssc+xml",e:["xdssc"]},{t:"application/ecmascript",e:["ecma"]},{t:"application/emma+xml",e:["emma"]},{t:"application/epub+zip",e:["epub"]},{t:"application/exi",e:["exi"]},{t:"application/font-tdpfr",e:["pfr"]},{t:"application/font-woff",e:["woff"]},{t:"application/gml+xml",e:["gml"]},{t:"application/gpx+xml",e:["gpx"]},{t:"application/gxf",e:["gxf"]},{t:"application/hyperstudio",e:["stk"]},{t:"application/inkml+xml",e:["ink","inkml"]},{t:"application/ipfix",e:["ipfix"]},{t:"application/java-archive",e:["jar"]},{t:"application/java-serialized-object",e:["ser"]},{t:"application/java-vm",e:["class"]},{t:"application/javascript",e:["js"]},{t:"application/json",e:["json"]},{t:"application/jsonml+json",e:["jsonml"]},{t:"application/lost+xml",e:["lostxml"]},{t:"application/mac-binhex40",e:["hqx"]},{t:"application/mac-compactpro",e:["cpt"]},{t:"application/mads+xml",e:["mads"]},{t:"application/marc",e:["mrc"]},{t:"application/marcxml+xml",e:["mrcx"]},{t:"application/mathematica",e:["ma","nb","mb"]},{t:"application/mathml+xml",e:["mathml"]},{t:"application/mbox",e:["mbox"]},{t:"application/mediaservercontrol+xml",e:["mscml"]},{t:"application/metalink+xml",e:["metalink"]},{t:"application/metalink4+xml",e:["meta4"]},{t:"application/mets+xml",e:["mets"]},{t:"application/mods+xml",e:["mods"]},{t:"application/mp21",e:["m21","mp21"]},{t:"application/mp4",e:["mp4s"]},{t:"application/msword",e:["doc","dot"]},{t:"application/mxf",e:["mxf"]},{t:"application/octet-stream",e:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"]},{t:"application/oda",e:["oda"]},{t:"application/oebps-package+xml",e:["opf"]},{t:"application/ogg",e:["ogx"]},{t:"application/omdoc+xml",e:["omdoc"]},{t:"application/onenote",e:["onetoc","onetoc2","onetmp","onepkg"]},{t:"application/oxps",e:["oxps"]},{t:"application/patch-ops-error+xml",e:["xer"]},{t:"application/pdf",e:["pdf"]},{t:"application/pgp-encrypted",e:["pgp"]},{t:"application/pgp-signature",e:["asc","sig"]},{t:"application/pics-rules",e:["prf"]},{t:"application/pkcs10",e:["p10"]},{t:"application/pkcs7-mime",e:["p7m","p7c"]},{t:"application/pkcs7-signature",e:["p7s"]},{t:"application/pkcs8",e:["p8"]},{t:"application/pkix-attr-cert",e:["ac"]},{t:"application/pkix-cert",e:["cer"]},{t:"application/pkix-crl",e:["crl"]},{t:"application/pkix-pkipath",e:["pkipath"]},{t:"application/pkixcmp",e:["pki"]},{t:"application/pls+xml",e:["pls"]},{t:"application/postscript",e:["ai","eps","ps"]},{t:"application/prs.cww",e:["cww"]},{t:"application/pskc+xml",e:["pskcxml"]},{t:"application/rdf+xml",e:["rdf"]},{t:"application/reginfo+xml",e:["rif"]},{t:"application/relax-ng-compact-syntax",e:["rnc"]},{t:"application/resource-lists+xml",e:["rl"]},{t:"application/resource-lists-diff+xml",e:["rld"]},{t:"application/rls-services+xml",e:["rs"]},{t:"application/rpki-ghostbusters",e:["gbr"]},{t:"application/rpki-manifest",e:["mft"]},{t:"application/rpki-roa",e:["roa"]},{t:"application/rsd+xml",e:["rsd"]},{t:"application/rss+xml",e:["rss"]},{t:"application/rtf",e:["rtf"]},{t:"application/sbml+xml",e:["sbml"]},{t:"application/scvp-cv-request",e:["scq"]},{t:"application/scvp-cv-response",e:["scs"]},{t:"application/scvp-vp-request",e:["spq"]},{t:"application/scvp-vp-response",e:["spp"]},{t:"application/sdp",e:["sdp"]},{t:"application/set-payment-initiation",e:["setpay"]},{t:"application/set-registration-initiation",e:["setreg"]},{t:"application/shf+xml",e:["shf"]},{t:"application/smil+xml",e:["smi","smil"]},{t:"application/sparql-query",e:["rq"]},{t:"application/sparql-results+xml",e:["srx"]},{t:"application/srgs",e:["gram"]},{t:"application/srgs+xml",e:["grxml"]},{t:"application/sru+xml",e:["sru"]},{t:"application/ssdl+xml",e:["ssdl"]},{t:"application/ssml+xml",e:["ssml"]},{t:"application/tei+xml",e:["tei","teicorpus"]},{t:"application/thraud+xml",e:["tfi"]},{t:"application/timestamped-data",e:["tsd"]},{t:"application/vnd.3gpp.pic-bw-large",e:["plb"]},{t:"application/vnd.3gpp.pic-bw-small",e:["psb"]},{t:"application/vnd.3gpp.pic-bw-var",e:["pvb"]},{t:"application/vnd.3gpp2.tcap",e:["tcap"]},{t:"application/vnd.3m.post-it-notes",e:["pwn"]},{t:"application/vnd.accpac.simply.aso",e:["aso"]},{t:"application/vnd.accpac.simply.imp",e:["imp"]},{t:"application/vnd.acucobol",e:["acu"]},{t:"application/vnd.acucorp",e:["atc","acutc"]},{t:"application/vnd.adobe.air-application-installer-package+zip",e:["air"]},{t:"application/vnd.adobe.formscentral.fcdt",e:["fcdt"]},{t:"application/vnd.adobe.fxp",e:["fxp","fxpl"]},{t:"application/vnd.adobe.xdp+xml",e:["xdp"]},{t:"application/vnd.adobe.xfdf",e:["xfdf"]},{t:"application/vnd.ahead.space",e:["ahead"]},{t:"application/vnd.airzip.filesecure.azf",e:["azf"]},{t:"application/vnd.airzip.filesecure.azs",e:["azs"]},{t:"application/vnd.amazon.ebook",e:["azw"]},{t:"application/vnd.americandynamics.acc",e:["acc"]},{t:"application/vnd.amiga.ami",e:["ami"]},{t:"application/vnd.android.package-archive",e:["apk"]},{t:"application/vnd.anser-web-certificate-issue-initiation",e:["cii"]},{t:"application/vnd.anser-web-funds-transfer-initiation",e:["fti"]},{t:"application/vnd.antix.game-component",e:["atx"]},{t:"application/vnd.apple.installer+xml",e:["mpkg"]},{t:"application/vnd.apple.mpegurl",e:["m3u8"]},{t:"application/vnd.aristanetworks.swi",e:["swi"]},{t:"application/vnd.astraea-software.iota",e:["iota"]},{t:"application/vnd.audiograph",e:["aep"]},{t:"application/vnd.blueice.multipass",e:["mpm"]},{t:"application/vnd.bmi",e:["bmi"]},{t:"application/vnd.businessobjects",e:["rep"]},{t:"application/vnd.chemdraw+xml",e:["cdxml"]},{t:"application/vnd.chipnuts.karaoke-mmd",e:["mmd"]},{t:"application/vnd.cinderella",e:["cdy"]},{t:"application/vnd.claymore",e:["cla"]},{t:"application/vnd.cloanto.rp9",e:["rp9"]},{t:"application/vnd.clonk.c4group",e:["c4g","c4d","c4f","c4p","c4u"]},{t:"application/vnd.cluetrust.cartomobile-config",e:["c11amc"]},{t:"application/vnd.cluetrust.cartomobile-config-pkg",e:["c11amz"]},{t:"application/vnd.commonspace",e:["csp"]},{t:"application/vnd.contact.cmsg",e:["cdbcmsg"]},{t:"application/vnd.cosmocaller",e:["cmc"]},{t:"application/vnd.crick.clicker",e:["clkx"]},{t:"application/vnd.crick.clicker.keyboard",e:["clkk"]},{t:"application/vnd.crick.clicker.palette",e:["clkp"]},{t:"application/vnd.crick.clicker.template",e:["clkt"]},{t:"application/vnd.crick.clicker.wordbank",e:["clkw"]},{t:"application/vnd.criticaltools.wbs+xml",e:["wbs"]},{t:"application/vnd.ctc-posml",e:["pml"]},{t:"application/vnd.cups-ppd",e:["ppd"]},{t:"application/vnd.curl.car",e:["car"]},{t:"application/vnd.curl.pcurl",e:["pcurl"]},{t:"application/vnd.dart",e:["dart"]},{t:"application/vnd.data-vision.rdz",e:["rdz"]},{t:"application/vnd.dece.data",e:["uvf","uvvf","uvd","uvvd"]},{t:"application/vnd.dece.ttml+xml",e:["uvt","uvvt"]},{t:"application/vnd.dece.unspecified",e:["uvx","uvvx"]},{t:"application/vnd.dece.zip",e:["uvz","uvvz"]},{t:"application/vnd.denovo.fcselayout-link",e:["fe_launch"]},{t:"application/vnd.dna",e:["dna"]},{t:"application/vnd.dolby.mlp",e:["mlp"]},{t:"application/vnd.dpgraph",e:["dpg"]},{t:"application/vnd.dreamfactory",e:["dfac"]},{t:"application/vnd.ds-keypoint",e:["kpxx"]},{t:"application/vnd.dvb.ait",e:["ait"]},{t:"application/vnd.dvb.service",e:["svc"]},{t:"application/vnd.dynageo",e:["geo"]},{t:"application/vnd.ecowin.chart",e:["mag"]},{t:"application/vnd.enliven",e:["nml"]},{t:"application/vnd.epson.esf",e:["esf"]},{t:"application/vnd.epson.msf",e:["msf"]},{t:"application/vnd.epson.quickanime",e:["qam"]},{t:"application/vnd.epson.salt",e:["slt"]},{t:"application/vnd.epson.ssf",e:["ssf"]},{t:"application/vnd.eszigno3+xml",e:["es3","et3"]},{t:"application/vnd.ezpix-album",e:["ez2"]},{t:"application/vnd.ezpix-package",e:["ez3"]},{t:"application/vnd.fdf",e:["fdf"]},{t:"application/vnd.fdsn.mseed",e:["mseed"]},{t:"application/vnd.fdsn.seed",e:["seed","dataless"]},{t:"application/vnd.flographit",e:["gph"]},{t:"application/vnd.fluxtime.clip",e:["ftc"]},{t:"application/vnd.framemaker",e:["fm","frame","maker","book"]},{t:"application/vnd.frogans.fnc",e:["fnc"]},{t:"application/vnd.frogans.ltf",e:["ltf"]},{t:"application/vnd.fsc.weblaunch",e:["fsc"]},{t:"application/vnd.fujitsu.oasys",e:["oas"]},{t:"application/vnd.fujitsu.oasys2",e:["oa2"]},{t:"application/vnd.fujitsu.oasys3",e:["oa3"]},{t:"application/vnd.fujitsu.oasysgp",e:["fg5"]},{t:"application/vnd.fujitsu.oasysprs",e:["bh2"]},{t:"application/vnd.fujixerox.ddd",e:["ddd"]},{t:"application/vnd.fujixerox.docuworks",e:["xdw"]},{t:"application/vnd.fujixerox.docuworks.binder",e:["xbd"]},{t:"application/vnd.fuzzysheet",e:["fzs"]},{t:"application/vnd.genomatix.tuxedo",e:["txd"]},{t:"application/vnd.geogebra.file",e:["ggb"]},{t:"application/vnd.geogebra.tool",e:["ggt"]},{t:"application/vnd.geometry-explorer",e:["gex","gre"]},{t:"application/vnd.geonext",e:["gxt"]},{t:"application/vnd.geoplan",e:["g2w"]},{t:"application/vnd.geospace",e:["g3w"]},{t:"application/vnd.gmx",e:["gmx"]},{t:"application/vnd.google-earth.kml+xml",e:["kml"]},{t:"application/vnd.google-earth.kmz",e:["kmz"]},{t:"application/vnd.grafeq",e:["gqf","gqs"]},{t:"application/vnd.groove-account",e:["gac"]},{t:"application/vnd.groove-help",e:["ghf"]},{t:"application/vnd.groove-identity-message",e:["gim"]},{t:"application/vnd.groove-injector",e:["grv"]},{t:"application/vnd.groove-tool-message",e:["gtm"]},{t:"application/vnd.groove-tool-template",e:["tpl"]},{t:"application/vnd.groove-vcard",e:["vcg"]},{t:"application/vnd.hal+xml",e:["hal"]},{t:"application/vnd.handheld-entertainment+xml",e:["zmm"]},{t:"application/vnd.hbci",e:["hbci"]},{t:"application/vnd.hhe.lesson-player",e:["les"]},{t:"application/vnd.hp-hpgl",e:["hpgl"]},{t:"application/vnd.hp-hpid",e:["hpid"]},{t:"application/vnd.hp-hps",e:["hps"]},{t:"application/vnd.hp-jlyt",e:["jlt"]},{t:"application/vnd.hp-pcl",e:["pcl"]},{t:"application/vnd.hp-pclxl",e:["pclxl"]},{t:"application/vnd.hydrostatix.sof-data",e:["sfd-hdstx"]},{t:"application/vnd.ibm.minipay",e:["mpy"]},{t:"application/vnd.ibm.modcap",e:["afp","listafp","list3820"]},{t:"application/vnd.ibm.rights-management",e:["irm"]},{t:"application/vnd.ibm.secure-container",e:["sc"]},{t:"application/vnd.iccprofile",e:["icc","icm"]},{t:"application/vnd.igloader",e:["igl"]},{t:"application/vnd.immervision-ivp",e:["ivp"]},{t:"application/vnd.immervision-ivu",e:["ivu"]},{t:"application/vnd.insors.igm",e:["igm"]},{t:"application/vnd.intercon.formnet",e:["xpw","xpx"]},{t:"application/vnd.intergeo",e:["i2g"]},{t:"application/vnd.intu.qbo",e:["qbo"]},{t:"application/vnd.intu.qfx",e:["qfx"]},{t:"application/vnd.ipunplugged.rcprofile",e:["rcprofile"]},{t:"application/vnd.irepository.package+xml",e:["irp"]},{t:"application/vnd.is-xpr",e:["xpr"]},{t:"application/vnd.isac.fcs",e:["fcs"]},{t:"application/vnd.jam",e:["jam"]},{t:"application/vnd.jcp.javame.midlet-rms",e:["rms"]},{t:"application/vnd.jisp",e:["jisp"]},{t:"application/vnd.joost.joda-archive",e:["joda"]},{t:"application/vnd.kahootz",e:["ktz","ktr"]},{t:"application/vnd.kde.karbon",e:["karbon"]},{t:"application/vnd.kde.kchart",e:["chrt"]},{t:"application/vnd.kde.kformula",e:["kfo"]},{t:"application/vnd.kde.kivio",e:["flw"]},{t:"application/vnd.kde.kontour",e:["kon"]},{t:"application/vnd.kde.kpresenter",e:["kpr","kpt"]},{t:"application/vnd.kde.kspread",e:["ksp"]},{t:"application/vnd.kde.kword",e:["kwd","kwt"]},{t:"application/vnd.kenameaapp",e:["htke"]},{t:"application/vnd.kidspiration",e:["kia"]},{t:"application/vnd.kinar",e:["kne","knp"]},{t:"application/vnd.koan",e:["skp","skd","skt","skm"]},{t:"application/vnd.kodak-descriptor",e:["sse"]},{t:"application/vnd.las.las+xml",e:["lasxml"]},{t:"application/vnd.llamagraphics.life-balance.desktop",e:["lbd"]},{t:"application/vnd.llamagraphics.life-balance.exchange+xml",e:["lbe"]},{t:"application/vnd.lotus-1-2-3",e:["123"]},{t:"application/vnd.lotus-approach",e:["apr"]},{t:"application/vnd.lotus-freelance",e:["pre"]},{t:"application/vnd.lotus-notes",e:["nsf"]},{t:"application/vnd.lotus-organizer",e:["org"]},{t:"application/vnd.lotus-screencam",e:["scm"]},{t:"application/vnd.lotus-wordpro",e:["lwp"]},{t:"application/vnd.macports.portpkg",e:["portpkg"]},{t:"application/vnd.mcd",e:["mcd"]},{t:"application/vnd.medcalcdata",e:["mc1"]},{t:"application/vnd.mediastation.cdkey",e:["cdkey"]},{t:"application/vnd.mfer",e:["mwf"]},{t:"application/vnd.mfmp",e:["mfm"]},{t:"application/vnd.micrografx.flo",e:["flo"]},{t:"application/vnd.micrografx.igx",e:["igx"]},{t:"application/vnd.mif",e:["mif"]},{t:"application/vnd.mobius.daf",e:["daf"]},{t:"application/vnd.mobius.dis",e:["dis"]},{t:"application/vnd.mobius.mbk",e:["mbk"]},{t:"application/vnd.mobius.mqy",e:["mqy"]},{t:"application/vnd.mobius.msl",e:["msl"]},{t:"application/vnd.mobius.plc",e:["plc"]},{t:"application/vnd.mobius.txf",e:["txf"]},{t:"application/vnd.mophun.application",e:["mpn"]},{t:"application/vnd.mophun.certificate",e:["mpc"]},{t:"application/vnd.mozilla.xul+xml",e:["xul"]},{t:"application/vnd.ms-artgalry",e:["cil"]},{t:"application/vnd.ms-cab-compressed",e:["cab"]},{t:"application/vnd.ms-excel",e:["xls","xlm","xla","xlc","xlt","xlw"]},{t:"application/vnd.ms-excel.addin.macroenabled.12",e:["xlam"]},{t:"application/vnd.ms-excel.sheet.binary.macroenabled.12",e:["xlsb"]},{t:"application/vnd.ms-excel.sheet.macroenabled.12",e:["xlsm"]},{t:"application/vnd.ms-excel.template.macroenabled.12",e:["xltm"]},{t:"application/vnd.ms-fontobject",e:["eot"]},{t:"application/vnd.ms-htmlhelp",e:["chm"]},{t:"application/vnd.ms-ims",e:["ims"]},{t:"application/vnd.ms-lrm",e:["lrm"]},{t:"application/vnd.ms-officetheme",e:["thmx"]},{t:"application/vnd.ms-pki.seccat",e:["cat"]},{t:"application/vnd.ms-pki.stl",e:["stl"]},{t:"application/vnd.ms-powerpoint",e:["ppt","pps","pot"]},{t:"application/vnd.ms-powerpoint.addin.macroenabled.12",e:["ppam"]},{t:"application/vnd.ms-powerpoint.presentation.macroenabled.12",e:["pptm"]},{t:"application/vnd.ms-powerpoint.slide.macroenabled.12",e:["sldm"]},{t:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",e:["ppsm"]},{t:"application/vnd.ms-powerpoint.template.macroenabled.12",e:["potm"]},{t:"application/vnd.ms-project",e:["mpp","mpt"]},{t:"application/vnd.ms-word.document.macroenabled.12",e:["docm"]},{t:"application/vnd.ms-word.template.macroenabled.12",e:["dotm"]},{t:"application/vnd.ms-works",e:["wps","wks","wcm","wdb"]},{t:"application/vnd.ms-wpl",e:["wpl"]},{t:"application/vnd.ms-xpsdocument",e:["xps"]},{t:"application/vnd.mseq",e:["mseq"]},{t:"application/vnd.musician",e:["mus"]},{t:"application/vnd.muvee.style",e:["msty"]},{t:"application/vnd.mynfc",e:["taglet"]},{t:"application/vnd.neurolanguage.nlu",e:["nlu"]},{t:"application/vnd.nitf",e:["ntf","nitf"]},{t:"application/vnd.noblenet-directory",e:["nnd"]},{t:"application/vnd.noblenet-sealer",e:["nns"]},{t:"application/vnd.noblenet-web",e:["nnw"]},{t:"application/vnd.nokia.n-gage.data",e:["ngdat"]},{t:"application/vnd.nokia.n-gage.symbian.install",e:["n-gage"]},{t:"application/vnd.nokia.radio-preset",e:["rpst"]},{t:"application/vnd.nokia.radio-presets",e:["rpss"]},{t:"application/vnd.novadigm.edm",e:["edm"]},{t:"application/vnd.novadigm.edx",e:["edx"]},{t:"application/vnd.novadigm.ext",e:["ext"]},{t:"application/vnd.oasis.opendocument.chart",e:["odc"]},{t:"application/vnd.oasis.opendocument.chart-template",e:["otc"]},{t:"application/vnd.oasis.opendocument.database",e:["odb"]},{t:"application/vnd.oasis.opendocument.formula",e:["odf"]},{t:"application/vnd.oasis.opendocument.formula-template",e:["odft"]},{t:"application/vnd.oasis.opendocument.graphics",e:["odg"]},{t:"application/vnd.oasis.opendocument.graphics-template",e:["otg"]},{t:"application/vnd.oasis.opendocument.image",e:["odi"]},{t:"application/vnd.oasis.opendocument.image-template",e:["oti"]},{t:"application/vnd.oasis.opendocument.presentation",e:["odp"]},{t:"application/vnd.oasis.opendocument.presentation-template",e:["otp"]},{t:"application/vnd.oasis.opendocument.spreadsheet",e:["ods"]},{t:"application/vnd.oasis.opendocument.spreadsheet-template",e:["ots"]},{t:"application/vnd.oasis.opendocument.text",e:["odt"]},{t:"application/vnd.oasis.opendocument.text-master",e:["odm"]},{t:"application/vnd.oasis.opendocument.text-template",e:["ott"]},{t:"application/vnd.oasis.opendocument.text-web",e:["oth"]},{t:"application/vnd.olpc-sugar",e:["xo"]},{t:"application/vnd.oma.dd2+xml",e:["dd2"]},{t:"application/vnd.openofficeorg.extension",e:["oxt"]},{t:"application/vnd.openxmlformats-officedocument.presentationml.presentation",e:["pptx"]},{t:"application/vnd.openxmlformats-officedocument.presentationml.slide",e:["sldx"]},{t:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",e:["ppsx"]},{t:"application/vnd.openxmlformats-officedocument.presentationml.template",e:["potx"]},{t:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e:["xlsx"]},{t:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",e:["xltx"]},{t:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",e:["docx"]},{t:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",e:["dotx"]},{t:"application/vnd.osgeo.mapguide.package",e:["mgp"]},{t:"application/vnd.osgi.dp",e:["dp"]},{t:"application/vnd.osgi.subsystem",e:["esa"]},{t:"application/vnd.palm",e:["pdb","pqa","oprc"]},{t:"application/vnd.pawaafile",e:["paw"]},{t:"application/vnd.pg.format",e:["str"]},{t:"application/vnd.pg.osasli",e:["ei6"]},{t:"application/vnd.picsel",e:["efif"]},{t:"application/vnd.pmi.widget",e:["wg"]},{t:"application/vnd.pocketlearn",e:["plf"]},{t:"application/vnd.powerbuilder6",e:["pbd"]},{t:"application/vnd.previewsystems.box",e:["box"]},{t:"application/vnd.proteus.magazine",e:["mgz"]},{t:"application/vnd.publishare-delta-tree",e:["qps"]},{t:"application/vnd.pvi.ptid1",e:["ptid"]},{t:"application/vnd.quark.quarkxpress",e:["qxd","qxt","qwd","qwt","qxl","qxb"]},{t:"application/vnd.realvnc.bed",e:["bed"]},{t:"application/vnd.recordare.musicxml",e:["mxl"]},{t:"application/vnd.recordare.musicxml+xml",e:["musicxml"]},{t:"application/vnd.rig.cryptonote",e:["cryptonote"]},{t:"application/vnd.rim.cod",e:["cod"]},{t:"application/vnd.rn-realmedia",e:["rm"]},{t:"application/vnd.rn-realmedia-vbr",e:["rmvb"]},{t:"application/vnd.route66.link66+xml",e:["link66"]},{t:"application/vnd.sailingtracker.track",e:["st"]},{t:"application/vnd.seemail",e:["see"]},{t:"application/vnd.sema",e:["sema"]},{t:"application/vnd.semd",e:["semd"]},{t:"application/vnd.semf",e:["semf"]},{t:"application/vnd.shana.informed.formdata",e:["ifm"]},{t:"application/vnd.shana.informed.formtemplate",e:["itp"]},{t:"application/vnd.shana.informed.interchange",e:["iif"]},{t:"application/vnd.shana.informed.package",e:["ipk"]},{t:"application/vnd.simtech-mindmapper",e:["twd","twds"]},{t:"application/vnd.smaf",e:["mmf"]},{t:"application/vnd.smart.teacher",e:["teacher"]},{t:"application/vnd.solent.sdkm+xml",e:["sdkm","sdkd"]},{t:"application/vnd.spotfire.dxp",e:["dxp"]},{t:"application/vnd.spotfire.sfs",e:["sfs"]},{t:"application/vnd.stardivision.calc",e:["sdc"]},{t:"application/vnd.stardivision.draw",e:["sda"]},{t:"application/vnd.stardivision.impress",e:["sdd"]},{t:"application/vnd.stardivision.math",e:["smf"]},{t:"application/vnd.stardivision.writer",e:["sdw","vor"]},{t:"application/vnd.stardivision.writer-global",e:["sgl"]},{t:"application/vnd.stepmania.package",e:["smzip"]},{t:"application/vnd.stepmania.stepchart",e:["sm"]},{t:"application/vnd.sun.xml.calc",e:["sxc"]},{t:"application/vnd.sun.xml.calc.template",e:["stc"]},{t:"application/vnd.sun.xml.draw",e:["sxd"]},{t:"application/vnd.sun.xml.draw.template",e:["std"]},{t:"application/vnd.sun.xml.impress",e:["sxi"]},{t:"application/vnd.sun.xml.impress.template",e:["sti"]},{t:"application/vnd.sun.xml.math",e:["sxm"]},{t:"application/vnd.sun.xml.writer",e:["sxw"]},{t:"application/vnd.sun.xml.writer.global",e:["sxg"]},{t:"application/vnd.sun.xml.writer.template",e:["stw"]},{t:"application/vnd.sus-calendar",e:["sus","susp"]},{t:"application/vnd.svd",e:["svd"]},{t:"application/vnd.symbian.install",e:["sis","sisx"]},{t:"application/vnd.syncml+xml",e:["xsm"]},{t:"application/vnd.syncml.dm+wbxml",e:["bdm"]},{t:"application/vnd.syncml.dm+xml",e:["xdm"]},{t:"application/vnd.tao.intent-module-archive",e:["tao"]},{t:"application/vnd.tcpdump.pcap",e:["pcap","cap","dmp"]},{t:"application/vnd.tmobile-livetv",e:["tmo"]},{t:"application/vnd.trid.tpt",e:["tpt"]},{t:"application/vnd.triscape.mxs",e:["mxs"]},{t:"application/vnd.trueapp",e:["tra"]},{t:"application/vnd.ufdl",e:["ufd","ufdl"]},{t:"application/vnd.uiq.theme",e:["utz"]},{t:"application/vnd.umajin",e:["umj"]},{t:"application/vnd.unity",e:["unityweb"]},{t:"application/vnd.uoml+xml",e:["uoml"]},{t:"application/vnd.vcx",e:["vcx"]},{t:"application/vnd.visio",e:["vsd","vst","vss","vsw"]},{t:"application/vnd.visionary",e:["vis"]},{t:"application/vnd.vsf",e:["vsf"]},{t:"application/vnd.wap.wbxml",e:["wbxml"]},{t:"application/vnd.wap.wmlc",e:["wmlc"]},{t:"application/vnd.wap.wmlscriptc",e:["wmlsc"]},{t:"application/vnd.webturbo",e:["wtb"]},{t:"application/vnd.wolfram.player",e:["nbp"]},{t:"application/vnd.wordperfect",e:["wpd"]},{t:"application/vnd.wqd",e:["wqd"]},{t:"application/vnd.wt.stf",e:["stf"]},{t:"application/vnd.xara",e:["xar"]},{t:"application/vnd.xfdl",e:["xfdl"]},{t:"application/vnd.yamaha.hv-dic",e:["hvd"]},{t:"application/vnd.yamaha.hv-script",e:["hvs"]},{t:"application/vnd.yamaha.hv-voice",e:["hvp"]},{t:"application/vnd.yamaha.openscoreformat",e:["osf"]},{t:"application/vnd.yamaha.openscoreformat.osfpvg+xml",e:["osfpvg"]},{t:"application/vnd.yamaha.smaf-audio",e:["saf"]},{t:"application/vnd.yamaha.smaf-phrase",e:["spf"]},{t:"application/vnd.yellowriver-custom-menu",e:["cmp"]},{t:"application/vnd.zul",e:["zir","zirz"]},{t:"application/vnd.zzazz.deck+xml",e:["zaz"]},{t:"application/voicexml+xml",e:["vxml"]},{t:"application/widget",e:["wgt"]},{t:"application/winhlp",e:["hlp"]},{t:"application/wsdl+xml",e:["wsdl"]},{t:"application/wspolicy+xml",e:["wspolicy"]},{t:"application/x-7z-compressed",e:["7z"]},{t:"application/x-abiword",e:["abw"]},{t:"application/x-ace-compressed",e:["ace"]},{t:"application/x-apple-diskimage",e:["dmg"]},{t:"application/x-authorware-bin",e:["aab","x32","u32","vox"]},{t:"application/x-authorware-map",e:["aam"]},{t:"application/x-authorware-seg",e:["aas"]},{t:"application/x-bcpio",e:["bcpio"]},{t:"application/x-bittorrent",e:["torrent"]},{t:"application/x-blorb",e:["blb","blorb"]},{t:"application/x-bzip",e:["bz"]},{t:"application/x-bzip2",e:["bz2","boz"]},{t:"application/x-cbr",e:["cbr","cba","cbt","cbz","cb7"]},{t:"application/x-cdlink",e:["vcd"]},{t:"application/x-cfs-compressed",e:["cfs"]},{t:"application/x-chat",e:["chat"]},{t:"application/x-chess-pgn",e:["pgn"]},{t:"application/x-conference",e:["nsc"]},{t:"application/x-cpio",e:["cpio"]},{t:"application/x-csh",e:["csh"]},{t:"application/x-debian-package",e:["deb","udeb"]},{t:"application/x-dgc-compressed",e:["dgc"]},{t:"application/x-director",e:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},{t:"application/x-doom",e:["wad"]},{t:"application/x-dtbncx+xml",e:["ncx"]},{t:"application/x-dtbook+xml",e:["dtb"]},{t:"application/x-dtbresource+xml",e:["res"]},{t:"application/x-dvi",e:["dvi"]},{t:"application/x-envoy",e:["evy"]},{t:"application/x-eva",e:["eva"]},{t:"application/x-font-bdf",e:["bdf"]},{t:"application/x-font-ghostscript",e:["gsf"]},{t:"application/x-font-linux-psf",e:["psf"]},{t:"application/x-font-otf",e:["otf"]},{t:"application/x-font-pcf",e:["pcf"]},{t:"application/x-font-snf",e:["snf"]},{t:"application/x-font-ttf",e:["ttf","ttc"]},{t:"application/x-font-type1",e:["pfa","pfb","pfm","afm"]},{t:"application/x-freearc",e:["arc"]},{t:"application/x-futuresplash",e:["spl"]},{t:"application/x-gca-compressed",e:["gca"]},{t:"application/x-glulx",e:["ulx"]},{t:"application/x-gnumeric",e:["gnumeric"]},{t:"application/x-gramps-xml",e:["gramps"]},{t:"application/x-gtar",e:["gtar"]},{t:"application/x-hdf",e:["hdf"]},{t:"application/x-install-instructions",e:["install"]},{t:"application/x-iso9660-image",e:["iso"]},{t:"application/x-java-jnlp-file",e:["jnlp"]},{t:"application/x-latex",e:["latex"]},{t:"application/x-lzh-compressed",e:["lzh","lha"]},{t:"application/x-mie",e:["mie"]},{t:"application/x-mobipocket-ebook",e:["prc","mobi"]},{t:"application/x-ms-application",e:["application"]},{t:"application/x-ms-shortcut",e:["lnk"]},{t:"application/x-ms-wmd",e:["wmd"]},{t:"application/x-ms-wmz",e:["wmz"]},{t:"application/x-ms-xbap",e:["xbap"]},{t:"application/x-msaccess",e:["mdb"]},{t:"application/x-msbinder",e:["obd"]},{t:"application/x-mscardfile",e:["crd"]},{t:"application/x-msclip",e:["clp"]},{t:"application/x-msdownload",e:["exe","dll","com","bat","msi"]},{t:"application/x-msmediaview",e:["mvb","m13","m14"]},{t:"application/x-msmetafile",e:["wmf","wmz","emf","emz"]},{t:"application/x-msmoney",e:["mny"]},{t:"application/x-mspublisher",e:["pub"]},{t:"application/x-msschedule",e:["scd"]},{t:"application/x-msterminal",e:["trm"]},{t:"application/x-mswrite",e:["wri"]},{t:"application/x-netcdf",e:["nc","cdf"]},{t:"application/x-nzb",e:["nzb"]},{t:"application/x-pkcs12",e:["p12","pfx"]},{t:"application/x-pkcs7-certificates",e:["p7b","spc"]},{t:"application/x-pkcs7-certreqresp",e:["p7r"]},{t:"application/x-rar-compressed",e:["rar"]},{t:"application/x-research-info-systems",e:["ris"]},{t:"application/x-sh",e:["sh"]},{t:"application/x-shar",e:["shar"]},{t:"application/x-shockwave-flash",e:["swf"]},{t:"application/x-silverlight-app",e:["xap"]},{t:"application/x-sql",e:["sql"]},{t:"application/x-stuffit",e:["sit"]},{t:"application/x-stuffitx",e:["sitx"]},{t:"application/x-subrip",e:["srt"]},{t:"application/x-sv4cpio",e:["sv4cpio"]},{t:"application/x-sv4crc",e:["sv4crc"]},{t:"application/x-t3vm-image",e:["t3"]},{t:"application/x-tads",e:["gam"]},{t:"application/x-tar",e:["tar"]},{t:"application/x-tcl",e:["tcl"]},{t:"application/x-tex",e:["tex"]},{t:"application/x-tex-tfm",e:["tfm"]},{t:"application/x-texinfo",e:["texinfo","texi"]},{t:"application/x-tgif",e:["obj"]},{t:"application/x-ustar",e:["ustar"]},{t:"application/x-wais-source",e:["src"]},{t:"application/x-x509-ca-cert",e:["der","crt"]},{t:"application/x-xfig",e:["fig"]},{t:"application/x-xliff+xml",e:["xlf"]},{t:"application/x-xpinstall",e:["xpi"]},{t:"application/x-xz",e:["xz"]},{t:"application/x-zmachine",e:["z1","z2","z3","z4","z5","z6","z7","z8"]},{t:"application/xaml+xml",e:["xaml"]},{t:"application/xcap-diff+xml",e:["xdf"]},{t:"application/xenc+xml",e:["xenc"]},{t:"application/xhtml+xml",e:["xhtml","xht"]},{t:"application/xml",e:["xml","xsl"]},{t:"application/xml-dtd",e:["dtd"]},{t:"application/xop+xml",e:["xop"]},{t:"application/xproc+xml",e:["xpl"]},{t:"application/xslt+xml",e:["xslt"]},{t:"application/xspf+xml",e:["xspf"]},{t:"application/xv+xml",e:["mxml","xhvml","xvml","xvm"]},{t:"application/yang",e:["yang"]},{t:"application/yin+xml",e:["yin"]},{t:"application/zip",e:["zip"]},{t:"audio/adpcm",e:["adp"]},{t:"audio/basic",e:["au","snd"]},{t:"audio/midi",e:["mid","midi","kar","rmi"]},{t:"audio/mp4",e:["m4a","mp4a"]},{t:"audio/mpeg",e:["mpga","mp2","mp2a","mp3","m2a","m3a"]},{t:"audio/ogg",e:["oga","ogg","spx"]},{t:"audio/s3m",e:["s3m"]},{t:"audio/silk",e:["sil"]},{t:"audio/vnd.dece.audio",e:["uva","uvva"]},{t:"audio/vnd.digital-winds",e:["eol"]},{t:"audio/vnd.dra",e:["dra"]},{t:"audio/vnd.dts",e:["dts"]},{t:"audio/vnd.dts.hd",e:["dtshd"]},{t:"audio/vnd.lucent.voice",e:["lvp"]},{t:"audio/vnd.ms-playready.media.pya",e:["pya"]},{t:"audio/vnd.nuera.ecelp4800",e:["ecelp4800"]},{t:"audio/vnd.nuera.ecelp7470",e:["ecelp7470"]},{t:"audio/vnd.nuera.ecelp9600",e:["ecelp9600"]},{t:"audio/vnd.rip",e:["rip"]},{t:"audio/webm",e:["weba"]},{t:"audio/x-aac",e:["aac"]},{t:"audio/x-aiff",e:["aif","aiff","aifc"]},{t:"audio/x-caf",e:["caf"]},{t:"audio/x-flac",e:["flac"]},{t:"audio/x-matroska",e:["mka"]},{t:"audio/x-mpegurl",e:["m3u"]},{t:"audio/x-ms-wax",e:["wax"]},{t:"audio/x-ms-wma",e:["wma"]},{t:"audio/x-pn-realaudio",e:["ram","ra"]},{t:"audio/x-pn-realaudio-plugin",e:["rmp"]},{t:"audio/x-wav",e:["wav"]},{t:"audio/wav",e:["wav"]},{t:"audio/wave",e:["wav"]},{t:"audio/xm",e:["xm"]},{t:"chemical/x-cdx",e:["cdx"]},{t:"chemical/x-cif",e:["cif"]},{t:"chemical/x-cmdf",e:["cmdf"]},{t:"chemical/x-cml",e:["cml"]},{t:"chemical/x-csml",e:["csml"]},{t:"chemical/x-xyz",e:["xyz"]},{t:"image/bmp",e:["bmp"]},{t:"image/cgm",e:["cgm"]},{t:"image/g3fax",e:["g3"]},{t:"image/gif",e:["gif"]},{t:"image/ief",e:["ief"]},{t:"image/jpeg",e:["jpeg","jpg","jpe"]},{t:"image/jpg",e:["jpeg","jpg","jpe"]},{t:"image/ktx",e:["ktx"]},{t:"image/png",e:["png"]},{t:"image/prs.btif",e:["btif"]},{t:"image/sgi",e:["sgi"]},{t:"image/svg+xml",e:["svg","svgz"]},{t:"image/tiff",e:["tiff","tif"]},{t:"image/vnd.adobe.photoshop",e:["psd"]},{t:"image/vnd.dece.graphic",e:["uvi","uvvi","uvg","uvvg"]},{t:"image/vnd.djvu",e:["djvu","djv"]},{t:"image/vnd.dvb.subtitle",e:["sub"]},{t:"image/vnd.dwg",e:["dwg"]},{t:"image/vnd.dxf",e:["dxf"]},{t:"image/vnd.fastbidsheet",e:["fbs"]},{t:"image/vnd.fpx",e:["fpx"]},{t:"image/vnd.fst",e:["fst"]},{t:"image/vnd.fujixerox.edmics-mmr",e:["mmr"]},{t:"image/vnd.fujixerox.edmics-rlc",e:["rlc"]},{t:"image/vnd.ms-modi",e:["mdi"]},{t:"image/vnd.ms-photo",e:["wdp"]},{t:"image/vnd.net-fpx",e:["npx"]},{t:"image/vnd.wap.wbmp",e:["wbmp"]},{t:"image/vnd.xiff",e:["xif"]},{t:"image/webp",e:["webp"]},{t:"image/x-3ds",e:["3ds"]},{t:"image/x-cmu-raster",e:["ras"]},{t:"image/x-cmx",e:["cmx"]},{t:"image/x-freehand",e:["fh","fhc","fh4","fh5","fh7"]},{t:"image/x-icon",e:["ico"]},{t:"image/x-mrsid-image",e:["sid"]},{t:"image/x-pcx",e:["pcx"]},{t:"image/x-pict",e:["pic","pct"]},{t:"image/x-portable-anymap",e:["pnm"]},{t:"image/x-portable-bitmap",e:["pbm"]},{t:"image/x-portable-graymap",e:["pgm"]},{t:"image/x-portable-pixmap",e:["ppm"]},{t:"image/x-rgb",e:["rgb"]},{t:"image/x-tga",e:["tga"]},{t:"image/x-xbitmap",e:["xbm"]},{t:"image/x-xpixmap",e:["xpm"]},{t:"image/x-xwindowdump",e:["xwd"]},{t:"message/rfc822",e:["eml","mime"]},{t:"model/iges",e:["igs","iges"]},{t:"model/mesh",e:["msh","mesh","silo"]},{t:"model/vnd.collada+xml",e:["dae"]},{t:"model/vnd.dwf",e:["dwf"]},{t:"model/vnd.gdl",e:["gdl"]},{t:"model/vnd.gtw",e:["gtw"]},{t:"model/vnd.mts",e:["mts"]},{t:"model/vnd.vtu",e:["vtu"]},{t:"model/vrml",e:["wrl","vrml"]},{t:"model/x3d+binary",e:["x3db","x3dbz"]},{t:"model/x3d+vrml",e:["x3dv","x3dvz"]},{t:"model/x3d+xml",e:["x3d","x3dz"]},{t:"text/cache-manifest",e:["appcache"]},{t:"text/calendar",e:["ics","ifb"]},{t:"text/css",e:["css"]},{t:"text/csv",e:["csv"]},{t:"text/html",e:["html","htm"]},{t:"text/n3",e:["n3"]},{t:"text/plain",e:["txt","text","conf","def","list","log","in"]},{t:"text/prs.lines.tag",e:["dsc"]},{t:"text/richtext",e:["rtx"]},{t:"text/sgml",e:["sgml","sgm"]},{t:"text/tab-separated-values",e:["tsv"]},{t:"text/troff",e:["t","tr","roff","man","me","ms"]},{t:"text/turtle",e:["ttl"]},{t:"text/uri-list",e:["uri","uris","urls"]},{t:"text/vcard",e:["vcard"]},{t:"text/vnd.curl",e:["curl"]},{t:"text/vnd.curl.dcurl",e:["dcurl"]},{t:"text/vnd.curl.mcurl",e:["mcurl"]},{t:"text/vnd.curl.scurl",e:["scurl"]},{t:"text/vnd.dvb.subtitle",e:["sub"]},{t:"text/vnd.fly",e:["fly"]},{t:"text/vnd.fmi.flexstor",e:["flx"]},{t:"text/vnd.graphviz",e:["gv"]},{t:"text/vnd.in3d.3dml",e:["3dml"]},{t:"text/vnd.in3d.spot",e:["spot"]},{t:"text/vnd.sun.j2me.app-descriptor",e:["jad"]},{t:"text/vnd.wap.wml",e:["wml"]},{t:"text/vnd.wap.wmlscript",e:["wmls"]},{t:"text/x-asm",e:["s","asm"]},{t:"text/x-c",e:["c","cc","cxx","cpp","h","hh","dic"]},{t:"text/x-fortran",e:["f","for","f77","f90"]},{t:"text/x-java-source",e:["java"]},{t:"text/x-nfo",e:["nfo"]},{t:"text/x-opml",e:["opml"]},{t:"text/x-pascal",e:["p","pas"]},{t:"text/x-setext",e:["etx"]},{t:"text/x-sfv",e:["sfv"]},{t:"text/x-uuencode",e:["uu"]},{t:"text/x-vcalendar",e:["vcs"]},{t:"text/x-vcard",e:["vcf"]},{t:"video/3gpp",e:["3gp"]},{t:"video/3gpp2",e:["3g2"]},{t:"video/h261",e:["h261"]},{t:"video/h263",e:["h263"]},{t:"video/h264",e:["h264"]},{t:"video/jpeg",e:["jpgv"]},{t:"video/jpm",e:["jpm","jpgm"]},{t:"video/mj2",e:["mj2","mjp2"]},{t:"video/mp4",e:["mp4","mp4v","mpg4"]},{t:"video/mpeg",e:["mpeg","mpg","mpe","m1v","m2v"]},{t:"video/ogg",e:["ogv"]},{t:"video/quicktime",e:["qt","mov"]},{t:"video/vnd.dece.hd",e:["uvh","uvvh"]},{t:"video/vnd.dece.mobile",e:["uvm","uvvm"]},{t:"video/vnd.dece.pd",e:["uvp","uvvp"]},{t:"video/vnd.dece.sd",e:["uvs","uvvs"]},{t:"video/vnd.dece.video",e:["uvv","uvvv"]},{t:"video/vnd.dvb.file",e:["dvb"]},{t:"video/vnd.fvt",e:["fvt"]},{t:"video/vnd.mpegurl",e:["mxu","m4u"]},{t:"video/vnd.ms-playready.media.pyv",e:["pyv"]},{t:"video/vnd.uvvu.mp4",e:["uvu","uvvu"]},{t:"video/vnd.vivo",e:["viv"]},{t:"video/webm",e:["webm"]},{t:"video/x-f4v",e:["f4v"]},{t:"video/x-fli",e:["fli"]},{t:"video/x-flv",e:["flv"]},{t:"video/x-m4v",e:["m4v"]},{t:"video/x-matroska",e:["mkv","mk3d","mks"]},{t:"video/x-mng",e:["mng"]},{t:"video/x-ms-asf",e:["asf","asx"]},{t:"video/x-ms-vob",e:["vob"]},{t:"video/x-ms-wm",e:["wm"]},{t:"video/x-ms-wmv",e:["wmv"]},{t:"video/x-ms-wmx",e:["wmx"]},{t:"video/x-ms-wvx",e:["wvx"]},{t:"video/x-msvideo",e:["avi"]},{t:"video/x-sgi-movie",e:["movie"]},{t:"video/x-smv",e:["smv"]},{t:"x-conference/x-cooltalk",e:["ice"]},{t:"text/markdown",e:["md","markdown"]}];class ce{static fromFileExtension(t){t=t.toLowerCase();for(let e=0;e<le.length;e++){const i=le[e];if(i.e.indexOf(t)>=0)return i.t}return null}static fromFilename(t){if(!t)return null;const e=t.trim().split(".");return e.length<=1?null:ce.fromFileExtension(e[e.length-1])}static toFileExtension(t){t=t.toLowerCase();for(let e=0;e<le.length;e++){const i=le[e];if(t==i.t){for(let t=0;t<i.e.length;t++)if(3==i.e[t].length)return i.e[t];return i.e[0]}}return null}static fromDataUrl(t){const e="text/plain";let i=t.substr(0,t.indexOf(",")).split(";")[0];const a=i.split(":");return a.length<=1?e:(i=a[1],i.indexOf("/")>=0?i:e)}}const se=()=>{const[t,e]=x.exports.useState([]),[i,a]=R((async()=>{e((await jt.pageToAllList($t.resourceApi.list.bind($t.resourceApi),{fields:["id","title","file_extension","mime"]})).filter((t=>!t.file_extension)).map((t=>m(d({},t),{file_extension:ce.toFileExtension(t.mime)}))))}));return x.exports.createElement(b,{title:at.t("unusedResource.title"),extra:x.exports.createElement(q,null,x.exports.createElement(_,{onClick:a},at.t("common.action.check")),x.exports.createElement(_,{disabled:0===t.length,onClick:async function(){const i=I.loading(at.t("fixFileExtension.action.progress"));try{await S.forEach(t,N((async t=>{await $t.resourceApi.update({id:t.id,file_extension:t.file_extension})}),10)),e([]),I.success(at.t("fixFileExtension.action.complete"))}finally{i()}}},at.t("fixFileExtension.action.fix")))},x.exports.createElement(T,{dataSource:null!=t?t:[],renderItem:t=>x.exports.createElement(T.Item,{key:t.id,extra:t.mime.startsWith("image/")&&x.exports.createElement(L,{src:Bt(t.id),width:300})},x.exports.createElement(T.Item.Meta,{title:t.title,description:`${at.t("fixFileExtension.tip")}${t.file_extension}`})),loading:{spinning:i.loading}}))};var re={"common.action.check":"Check","common.action.open":"Open","common.action.remove":"Remove","common.action.download":"Download","home.title":"Home","settings.title":"Security Settings","settings.form.token":"Authorization token","settings.form.port":"Port","settings.action.submit":"Submit","settings.msg.success":"Setup was successful","settings.msg.error":"Unable to access joplin web clipper api","unusedResource.title":"Check for unused resources","unusedResource.listEmptyText":"No unused attachment resources were found","unusedResource.action.removeAll":"Delete all","unusedResource.msg.process":"[{{rate}}/{{all}}] is checking for resources {{title}}","unusedResource.msg.error":"Please check joplin token/port configuration","notFoundResource.title":"Check notes for references to a failed resource","notFoundResource.listEmptyText":"No reference to a failed resource was found","notFoundResource.unknownFileName":"Unknown file name {{id}}","convertExternalLink.title":"Convert External Link to Internal Reference Notes","convertExternalLink.action.convert":"Convert","convertExternalLink.msg.success":"Conversion complete","checkParentNotebook.title":"Check notes without parent directory","checkParentNotebook.listEmptyText":"No abnormal notes found in the parent directory","fixFileExtension.title":"Fix missing resource file extension field","fixFileExtension.action.progress":"Fixing in progress...","fixFileExtension.action.complete":"Fixing completed","fixFileExtension.action.fix":"Fixing","fixFileExtension.tip":"Guess the extension: "},de={"common.action.check":"检查","common.action.open":"打开","common.action.remove":"删除","common.action.download":"下载","home.title":"首页","settings.title":"安全设置","settings.form.token":"授权令牌","settings.form.port":"端口","settings.action.submit":"提交","settings.msg.success":"设置成功","settings.msg.error":"无法访问 joplin web clipper api","unusedResource.title":"检查未使用的资源","unusedResource.listEmptyText":"没有找到任何未使用的附件资源","unusedResource.action.removeAll":"删除全部","unusedResource.msg.process":"[{{rate}}/{{all}}] 正在检查资源 {{title}}","unusedResource.msg.error":"请检查 joplin token/port 配置","notFoundResource.title":"检查笔记中引用失效的资源","notFoundResource.listEmptyText":"没有找到任何引用失效的资源","notFoundResource.unknownFileName":"未知文件名 {{id}}","convertExternalLink.title":"转换外部链接为内部引用笔记","convertExternalLink.action.convert":"转换","convertExternalLink.msg.success":"转换完成","checkParentNotebook.title":"检查没有父级目录的笔记","checkParentNotebook.listEmptyText":"没有检查到父目录异常的笔记","fixFileExtension.title":"修复资源文件扩展名字段缺失","fixFileExtension.action.progress":"正在修复中...","fixFileExtension.action.complete":"修复完成","fixFileExtension.action.fix":"修复","fixFileExtension.tip":"猜测扩展名: "};const me=()=>{const t=pt(),[{value:e},i]=R((async t=>{console.log("language: ",t),await at.init({en:re,zhCN:de},t);const e=ot(t);return[{path:"/",component:ct,exact:!0,title:at.t("home.title")},{path:"/settings",component:Mt,title:at.t("settings.title")},{path:"/unusedResource",component:Jt,title:at.t("unusedResource.title")},{path:"/notFoundResource",component:Zt,title:at.t("notFoundResource.title")},{path:"/convertExternalLink",component:ne,title:at.t("convertExternalLink.title")},{path:"/checkParentNotebook",component:pe,title:at.t("checkParentNotebook.title")},{path:"/fixFileExtension",component:se,title:at.t("fixFileExtension.title")}].map((t=>m(d({},t),{path:U.join(e,t.path)})))}),[t]);D((()=>i(t)));const a=f(),n=h();return x.exports.createElement(B,{className:X},x.exports.createElement(B.Sider,{className:tt,width:"max-content"},x.exports.createElement("h2",{className:Y},"Joplin Batch"),x.exports.createElement(J,null,e&&e.map((t=>x.exports.createElement(J.Item,{key:t.path},x.exports.createElement(H,{to:t.path},t.title)))))),x.exports.createElement(B,null,x.exports.createElement(B.Header,{className:it},x.exports.createElement(V,{options:[{label:"English",value:v.En},{label:"中文",value:v.ZhCN}],value:t,onChange:async function(e){const o=a.pathname.replace(ot(t),ot(e));console.log("path: ",t,e,o),await i(e),n.push(o)}})),x.exports.createElement(B.Content,{className:et},x.exports.createElement(x.exports.Suspense,{fallback:"loading..."},K(e)))))},ue=()=>x.exports.createElement(Z,null,x.exports.createElement(me,null));G.render(Q.createElement(Q.StrictMode,null,Q.createElement(ue,null)),document.getElementById("root"));
