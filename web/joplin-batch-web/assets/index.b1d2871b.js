import{u as g,r as e,z as r,B as i}from"./index.390dc114.js";import{B as f,j as n}from"./joplinApiGenerator.74e9e026.js";import{F as s}from"./index.1a464146.js";import{C as b}from"./index.9a24dd67.js";import{I as m}from"./index.64e738dc.js";import"./TextArea.7db41e2e.js";import"./EyeOutlined.1c663690.js";const U=()=>{var l;const[a]=s.useForm();async function c(){if(!await a.validateFields())return;const o=a.getFieldsValue();console.log("onFinish: ",o);try{n.token=o.token,n.baseUrl=o.baseUrl,await n.noteApi.list({limit:1}),u(o),i.success(r.t("settings.msg.success"))}catch(p){console.error(p),i.error(r.t("settings.msg.error"))}}const[t,u]=g("settings");return e.exports.createElement(b,null,e.exports.createElement("h2",null,r.t("settings.title")),e.exports.createElement(s,{form:a,onFinish:c,initialValues:{token:t==null?void 0:t.token,baseUrl:(l=t==null?void 0:t.baseUrl)!=null?l:"http://localhost:41184"}},e.exports.createElement(s.Item,{name:"baseUrl",label:r.t("settings.form.baseUrl"),rules:[{required:!0}]},e.exports.createElement(m,{type:"url"})),e.exports.createElement(s.Item,{name:"token",label:r.t("settings.form.token"),rules:[{required:!0}]},e.exports.createElement(m.Password,null)),e.exports.createElement(s.Item,null,e.exports.createElement(f,{type:"primary",htmlType:"submit"},r.t("settings.action.submit")))))};export{U as default};
